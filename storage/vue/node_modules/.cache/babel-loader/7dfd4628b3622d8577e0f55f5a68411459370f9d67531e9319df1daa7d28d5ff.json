{"ast":null,"code":"import { Message } from 'element-ui';\nlet messageInstance = null;\nconst rewriteMessage = options => {\n  if (messageInstance) {\n    messageInstance.close();\n  }\n  messageInstance = Message(options);\n};\n['error', 'success', 'info', 'warning'].forEach(type => {\n  rewriteMessage[type] = options => {\n    if (typeof options === 'string') {\n      options = {\n        message: options\n      };\n    }\n    options.type = type;\n    return rewriteMessage(options);\n  };\n});\n\n//错误提示中使用\nexport default function handleError(data) {\n  if (data instanceof Error) {\n    rewriteMessage.error(data.message);\n  } else if (typeof data === 'string') {\n    rewriteMessage.error(data);\n  } else {\n    rewriteMessage.error(data.data.msg);\n  }\n  return window.Promise.reject(data);\n}","map":{"version":3,"names":["Message","messageInstance","rewriteMessage","options","close","forEach","type","message","handleError","data","Error","error","msg","window","Promise","reject"],"sources":["D:/毕设/B站/仓库管理系统/manager/vue/src/utils/message.js"],"sourcesContent":["import {Message} from 'element-ui'\r\n\r\nlet messageInstance = null;\r\nconst rewriteMessage = (options) => {\r\n    if (messageInstance) {\r\n        messageInstance.close()\r\n    }\r\n    messageInstance = Message(options)\r\n}\r\n['error', 'success', 'info', 'warning'].forEach(type => {\r\n    rewriteMessage [type] = options => {\r\n        if (typeof options === 'string') {\r\n            options = {\r\n                message: options\r\n            }\r\n        }\r\n        options.type = type\r\n        return rewriteMessage(options)\r\n    }\r\n})\r\n\r\n//错误提示中使用\r\nexport default function handleError(data) {\r\n    if (data instanceof Error) {\r\n        rewriteMessage.error(data.message)\r\n    } else if (typeof data === 'string') {\r\n        rewriteMessage.error(data)\r\n    } else {\r\n        rewriteMessage.error(data.data.msg)\r\n    }\r\n    return window.Promise.reject(data)\r\n}\r\n"],"mappings":"AAAA,SAAQA,OAAO,QAAO,YAAY;AAElC,IAAIC,eAAe,GAAG,IAAI;AAC1B,MAAMC,cAAc,GAAIC,OAAO,IAAK;EAChC,IAAIF,eAAe,EAAE;IACjBA,eAAe,CAACG,KAAK,CAAC,CAAC;EAC3B;EACAH,eAAe,GAAGD,OAAO,CAACG,OAAO,CAAC;AACtC,CAAC;AACD,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,SAAS,CAAC,CAACE,OAAO,CAACC,IAAI,IAAI;EACpDJ,cAAc,CAAEI,IAAI,CAAC,GAAGH,OAAO,IAAI;IAC/B,IAAI,OAAOA,OAAO,KAAK,QAAQ,EAAE;MAC7BA,OAAO,GAAG;QACNI,OAAO,EAAEJ;MACb,CAAC;IACL;IACAA,OAAO,CAACG,IAAI,GAAGA,IAAI;IACnB,OAAOJ,cAAc,CAACC,OAAO,CAAC;EAClC,CAAC;AACL,CAAC,CAAC;;AAEF;AACA,eAAe,SAASK,WAAWA,CAACC,IAAI,EAAE;EACtC,IAAIA,IAAI,YAAYC,KAAK,EAAE;IACvBR,cAAc,CAACS,KAAK,CAACF,IAAI,CAACF,OAAO,CAAC;EACtC,CAAC,MAAM,IAAI,OAAOE,IAAI,KAAK,QAAQ,EAAE;IACjCP,cAAc,CAACS,KAAK,CAACF,IAAI,CAAC;EAC9B,CAAC,MAAM;IACHP,cAAc,CAACS,KAAK,CAACF,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC;EACvC;EACA,OAAOC,MAAM,CAACC,OAAO,CAACC,MAAM,CAACN,IAAI,CAAC;AACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}